<html><head><link rel="import" href="../bower_components/polymer/polymer-element.html"><link rel="import" href="../bower_components/paper-dialog/paper-dialog.html"><link rel="import" href="../bower_components/paper-dialog-behavior/paper-dialog-behavior.html"><link rel="import" href="../bower_components/paper-dialog-behavior/paper-dialog-shared-styles.html"><link rel="import" href="../bower_components/paper-button/paper-button.html"><link rel="import" href="../bower_components/iron-pages/iron-pages.html"><link rel="import" href="../bower_components/paper-input/paper-input.html"><link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html"><link rel="import" href="../bower_components/paper-snackbar/paper-snackbar.html"><link rel="prefetch" href="../bower_components/polymer/polymer-element.html"><link rel="prefetch" href="../bower_components/polymer/lib/mixins/element-mixin.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/boot.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/mixin.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/case-map.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/style-gather.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/resolve-url.html"><link rel="prefetch" href="../bower_components/polymer/lib/elements/dom-module.html"><link rel="prefetch" href="../bower_components/polymer/lib/mixins/property-effects.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/path.html"><link rel="prefetch" href="../bower_components/polymer/lib/mixins/property-accessors.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/async.html"><link rel="prefetch" href="../bower_components/polymer/lib/mixins/template-stamp.html"><link rel="prefetch" href="../bower_components/paper-dialog/paper-dialog.html"><link rel="prefetch" href="../bower_components/polymer/polymer.html"><link rel="prefetch" href="../bower_components/polymer/lib/legacy/legacy-element-mixin.html"><link rel="prefetch" href="../bower_components/shadycss/apply-shim.html"><link rel="prefetch" href="../bower_components/shadycss/apply-shim.min.js"><link rel="prefetch" href="../bower_components/polymer/lib/mixins/gesture-event-listeners.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/gestures.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/debounce.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/import-href.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/render-status.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/unresolved.html"><link rel="prefetch" href="../bower_components/polymer/lib/legacy/polymer.dom.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/flattened-nodes-observer.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/array-splice.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/flush.html"><link rel="prefetch" href="../bower_components/polymer/lib/legacy/polymer-fn.html"><link rel="prefetch" href="../bower_components/polymer/lib/legacy/class.html"><link rel="prefetch" href="../bower_components/polymer/lib/legacy/templatizer-behavior.html"><link rel="prefetch" href="../bower_components/polymer/lib/utils/templatize.html"><link rel="prefetch" href="../bower_components/polymer/lib/mixins/mutable-data.html"><link rel="prefetch" href="../bower_components/polymer/lib/elements/dom-bind.html"><link rel="prefetch" href="../bower_components/polymer/lib/elements/dom-repeat.html"><link rel="prefetch" href="../bower_components/polymer/lib/elements/dom-if.html"><link rel="prefetch" href="../bower_components/polymer/lib/elements/array-selector.html"><link rel="prefetch" href="../bower_components/polymer/lib/elements/custom-style.html"><link rel="prefetch" href="../bower_components/shadycss/custom-style-interface.html"><link rel="prefetch" href="../bower_components/shadycss/custom-style-interface.min.js"><link rel="prefetch" href="../bower_components/polymer/lib/legacy/mutable-data-behavior.html"><link rel="prefetch" href="../bower_components/neon-animation/neon-animation-runner-behavior.html"><link rel="prefetch" href="../bower_components/iron-meta/iron-meta.html"><link rel="prefetch" href="../bower_components/neon-animation/neon-animatable-behavior.html"><link rel="prefetch" href="../bower_components/paper-dialog-behavior/paper-dialog-behavior.html"><link rel="prefetch" href="../bower_components/iron-overlay-behavior/iron-overlay-behavior.html"><link rel="prefetch" href="../bower_components/iron-fit-behavior/iron-fit-behavior.html"><link rel="prefetch" href="../bower_components/iron-resizable-behavior/iron-resizable-behavior.html"><link rel="prefetch" href="../bower_components/iron-overlay-behavior/iron-overlay-manager.html"><link rel="prefetch" href="../bower_components/iron-a11y-keys-behavior/iron-a11y-keys-behavior.html"><link rel="prefetch" href="../bower_components/iron-overlay-behavior/iron-overlay-backdrop.html"><link rel="prefetch" href="../bower_components/iron-overlay-behavior/iron-focusables-helper.html"><link rel="prefetch" href="../bower_components/paper-dialog-behavior/paper-dialog-shared-styles.html"><link rel="prefetch" href="../bower_components/iron-flex-layout/iron-flex-layout.html"><link rel="prefetch" href="../bower_components/paper-styles/default-theme.html"><link rel="prefetch" href="../bower_components/paper-styles/color.html"><link rel="prefetch" href="../bower_components/paper-styles/typography.html"><link rel="prefetch" href="../bower_components/font-roboto/roboto.html"><link rel="prefetch" href="../bower_components/paper-styles/shadow.html"><link rel="prefetch" href="../bower_components/paper-button/paper-button.html"><link rel="prefetch" href="../bower_components/paper-behaviors/paper-button-behavior.html"><link rel="prefetch" href="../bower_components/iron-behaviors/iron-button-state.html"><link rel="prefetch" href="../bower_components/iron-behaviors/iron-control-state.html"><link rel="prefetch" href="../bower_components/paper-behaviors/paper-ripple-behavior.html"><link rel="prefetch" href="../bower_components/paper-ripple/paper-ripple.html"><link rel="prefetch" href="../bower_components/paper-styles/element-styles/paper-material-styles.html"><link rel="prefetch" href="../bower_components/iron-pages/iron-pages.html"><link rel="prefetch" href="../bower_components/iron-selector/iron-selectable.html"><link rel="prefetch" href="../bower_components/iron-selector/iron-selection.html"><link rel="prefetch" href="../bower_components/paper-input/paper-input.html"><link rel="prefetch" href="../bower_components/iron-form-element-behavior/iron-form-element-behavior.html"><link rel="prefetch" href="../bower_components/iron-input/iron-input.html"><link rel="prefetch" href="../bower_components/iron-a11y-announcer/iron-a11y-announcer.html"><link rel="prefetch" href="../bower_components/iron-validatable-behavior/iron-validatable-behavior.html"><link rel="prefetch" href="../bower_components/paper-input/paper-input-behavior.html"><link rel="prefetch" href="../bower_components/paper-input/paper-input-char-counter.html"><link rel="prefetch" href="../bower_components/paper-input/paper-input-addon-behavior.html"><link rel="prefetch" href="../bower_components/paper-input/paper-input-container.html"><link rel="prefetch" href="../bower_components/paper-input/paper-input-error.html"><link rel="prefetch" href="../bower_components/paper-icon-button/paper-icon-button.html"><link rel="prefetch" href="../bower_components/iron-icon/iron-icon.html"><link rel="prefetch" href="../bower_components/paper-behaviors/paper-inky-focus-behavior.html"><link rel="prefetch" href="../bower_components/paper-snackbar/paper-snackbar.html"></head><body><dom-module id="scart-config-dialog"><template><style>:host{max-width:480px;max-height:740px;width:100vw;height:100vh;}iron-pages{width:100%;height:100%;}.container{width:100%;height:100%;display:flex;flex-direction:column;overflow-y:overlay;-webkit-overflow-scrolling:touch;}.top{flex:1;padding:16px;}img{min-width:100%;object-fit:cover;width:432px;height:324px;}paper-button{background-color:lightgray;margin:0px;border-radius:0;width:100%;min-height:40px;}.title{font-weight:bold;}#config{display:flex;flex-direction:row;align-items:center;}#input{flex:1;}</style><style include="paper-dialog-shared-styles"></style><iron-pages id="pager" selected="[[page]]" attr-for-selected="name"><div name="start" class="container"><img src="images/write-prepare.png"><div class="top"><div class="title">Configure a tag</div><p>NFC tags are handly, as you can put one near your appliance and when they run out of something you often need, just tap it to have it added to your grocery plan.</p></div><paper-button on-click="next">START NOW</paper-button></div><div name="write" class="container"><img src="images/write-tap.png"><div class="top"><div class="title">Add content</div><p>Type the name of the content you want to be added when tapping the NFC tag, then tap the tag. You can configure multiple tags. Press «Finished» when done.</p><div id="config"><paper-input id="input" always-float-label="" label="Write to tag"></paper-input><paper-icon-button id="btn" icon="scart-icons:send" title="Write" on-tap="write"></paper-icon-button></div></div><paper-button on-click="next">FINISH</paper-button></div></iron-pages><paper-snackbar></paper-snackbar></template><script>class SCartConfigDialog extends Polymer.mixinBehaviors([Polymer.PaperDialogBehavior],Polymer.Element){static get is(){return"scart-config-dialog"}connectedCallback(){super.connectedCallback(),this.addEventListener("opened-changed",()=>{this.page="start"});const a=()=>{this.$.input.scrollIntoView()};if(ResizeObserver in window){let b=new ResizeObserver(a);b.observe(this)}else window.addEventListener("resize",a)}static get properties(){return{page:{type:String,value:"start",reflectToAttribute:!0}}}next(){switch(this.page){case"start":this.page="write";break;case"write":this.close(),this.page="start";break;default:this.page="start";}}async write(){let a={data:[{recordType:"json",mediaType:"application/json",data:{name:this.$.input.value}}]};console.log(`Writing ${this.$.input.value}`),this.$.btn.disabled=!0;const b=c=>{document.dispatchEvent(new CustomEvent("paper-snackbar-notify",{bubbles:!0,composed:!0,detail:{message:c}}))};try{await navigator.nfc.push(a),this.$.btn.disabled=!1,b(`Wrote «${this.$.input.value}» to NFC tag!`)}catch(c){this.$.btn.disabled=!1,b(`Failed to write «${this.$.input.value}» to NFC tag!`)}}}window.customElements.define(SCartConfigDialog.is,SCartConfigDialog);</script></dom-module></body></html>